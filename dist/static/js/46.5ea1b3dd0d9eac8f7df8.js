webpackJsonp([46],{"1wPx":function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l("lC5x"),o=l.n(a),r=l("J0Oq"),s=l.n(r),i=l("glag"),n=l("c2Ch"),c={name:"projectInfoDetail",created:function(){this.vuexInfo=this.$store.getters.projectInfoDetail,this.getTableInfo()},methods:{export_excel:function(){Object(n.o)({id:this.vuexInfo.id,ids:this.form2.ids.join(","),userName:this.form2.userName},this.tableData);this.dialogTableVisible=!1},saveInfo:function(){var t=this;return s()(o.a.mark(function e(){var l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(l=t.form).deliveredOrNot=l.deliveredOrNot.join(","),l.mouldWay=l.mouldWay.join(","),l.samplesWay=l.samplesWay.join(","),l.id=t.tableData.id,e.next=7,Object(n._24)(l);case 7:1===e.sent.status&&(Object(i.Message)({showClose:!0,type:"success",message:"信息修改成功！"}),t.getTableInfo());case 9:case"end":return e.stop()}},e,t)}))()},getTableInfo:function(){var t=this;return s()(o.a.mark(function e(){var l,a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(n.R)({type:"XIANGMUJINGLI"});case 2:return t.manager=e.sent.msg,l={page:t.currentPage,size:t.size,id:t.$store.getters.projectInfoDetail.id},e.next=6,Object(n._15)(l);case 6:1===(a=e.sent).status&&(t.tableData=a.msg,r=t.tableData,t.form={mouldSubcontract:r.mouldSubcontract,deliveredOrNot:r.deliveredOrNot?r.deliveredOrNot.split(","):[],batchProd:r.batchProd,testMouldNum:r.testMouldNum,samplesWay:r.samplesWay?r.samplesWay.split(","):[],mouldWay:r.mouldWay?r.mouldWay.split(","):[],dryCycleOrNot:r.dryCycleOrNot,t1Shots:r.t1Shots,t2Shots:r.t2Shots,t3Shots:r.t3Shots,t4Shots:r.t4Shots,dryCycleCount:r.dryCycleCount});case 8:case"end":return e.stop()}},e,t)}))()},handleCurrentChange:function(t){this.currentPage=t,this.getTableInfo()}},data:function(){return{dialogTableVisible:!1,manager:[],form:{mouldSubcontract:"",deliveredOrNot:[],batchProd:"",testMouldNum:0,samplesWay:[],mouldWay:[],dryCycleOrNot:"",t1Shots:0,t2Shots:0,t3Shots:0,t4Shots:0,dryCycleCount:0},form1:{},form2:{ids:[],userName:""},tooltip:!0,currentPage:1,size:10,tableData:{map:{items:[{}],total:1}},vuexInfo:{}}}},u={render:function(){var t=this,e=this,l=e.$createElement,a=e._self._c||l;return a("div",{attrs:{id:"projectInfoDetail"}},[a("el-button",{staticClass:"el-button_plain_mini",attrs:{type:"primary",plain:""},on:{click:function(t){return e.$goto("/projectInfo")}}},[e._v("返回")]),e._v(" "),a("div",{attrs:{id:"allInfo"}},[a("h2",{staticClass:"tc fwb border_solid_bottom_c lh40"},[e._v("模具工程任务书")]),e._v(" "),a("div",{attrs:{id:"tables"}},[a("p",{staticClass:"tc"},[a("span",{staticClass:"mr20"},[e._v("项目名称："),a("i",{staticClass:"fwb"},[e._v(e._s(e.vuexInfo.projectName))])]),e._v(" "),a("span",{staticClass:"mr20"},[e._v("客户名称："),a("i",{staticClass:"fwb"},[e._v(e._s(e.vuexInfo.customerName))])]),e._v(" "),a("span",{staticClass:"mr20"},[e._v("合同编号："),a("i",{staticClass:"fwb"},[e._v(e._s(e.vuexInfo.contractNo))])])]),e._v(" "),a("el-table",{staticClass:"mt20 mb20",staticStyle:{width:"100%","font-size":"12px"},attrs:{data:e.tableData.map.items,border:"","tooltip-effect":"light","header-cell-class-name":"header_cell table_header_shadow"}},[a("el-table-column",{attrs:{fixed:"",type:"index",label:"序号",width:"60",align:"center",index:function(l){return t.$indexS(l,e.currentPage,e.size)}}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"mouldNo",label:"模具编号",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"projectNo",label:"项目编号",width:"120",align:"center","show-overflow-tooltip":e.tooltip}}),e._v(" "),a("el-table-column",{attrs:{prop:"partName",label:"制品名称",width:"120",align:"center","show-overflow-tooltip":e.tooltip}}),e._v(" "),a("el-table-column",{attrs:{prop:"partNo",label:"制品编号",width:"120",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"制品图片",height:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{height:"40px"},attrs:{src:t.row.imgUrl,alt:"图片"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"partSize",label:"制品尺寸",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"productDataFileName",label:"产品3D数据图档名",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"customerMouldCode",label:"客户模号",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"customerMoldingFactory",label:"客户的成型工厂",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"customerOpenOrNoMould",label:"客户以前是否开过模具",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(0===t.row.customerOpenOrNoMould?"否":"是"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"customerAdditionalRequirements",label:"客户是否有参考模、经验总结或特别要求",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"material",label:"制品材料",width:"120",align:"center","show-overflow-tooltip":e.tooltip}}),e._v(" "),a("el-table-column",{attrs:{prop:"shrinkageRate",label:"收缩率",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"productColour",label:"制品颜色",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"grainNo",label:"皮纹号",width:"160",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cavityQty",label:"模腔数量",width:"160",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"runner",label:"流道",width:"120",align:"center","show-overflow-tooltip":e.tooltip}}),e._v(" "),a("el-table-column",{attrs:{prop:"gate",label:"浇口",width:"120",align:"center","show-overflow-tooltip":e.tooltip}}),e._v(" "),a("el-table-column",{attrs:{prop:"aplate",label:"A板",width:"100",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"bplate",label:"B板",width:"120",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"cavity",label:"型腔",width:"120",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"core",label:"型芯",width:"120",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"slider",label:"滑块",width:"120",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"standardParts",label:"标准件",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"startMouldDate",label:"启动日期",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"t1Date",label:"T1时间",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sampleDeliveryTime",label:"送样时间",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"manufacturingOutsourcing",label:"制造外包",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"designOutsourcing",label:"设计外包",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"manufacturingPlant",label:"模具制造工厂",width:"100",align:"center","show-overflow-tooltip":e.tooltip}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"underline",attrs:{type:"text"},on:{click:function(l){return e.$setVuex("/projectInfoDetailEdit","projectInfoDetailEdit",t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),e.tableData.map.total?a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.size,layout:"total, prev, pager, next",total:e.tableData.map.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),a("div",{staticClass:"mt20",attrs:{id:"forms"}},[a("el-form",{ref:"form",staticClass:"f12",attrs:{model:e.form,"label-position":"left","label-width":"220px"}},[a("div",{staticStyle:{color:"#E52058"}},[a("p",[a("span",[e._v("备注：")]),e._v(" 当客户的产品图或技术方案确认时间滞后，以及设计方案有重大变化时，技术部设计组须通知项目经理，由项目经理向客户提出并得到确认有关合同变更事项。")]),e._v(" "),a("p",[e._v("confirmed delay or design scheme has big changes,Design dept. must inform project manager,then Project manager will discuss with customer to change contract issue and get cofirmation.")])]),e._v(" "),a("el-form-item",{attrs:{label:"1.模具是否在我司进行小批量试产？"}},[a("el-radio-group",{model:{value:e.form.batchProd,callback:function(t){e.$set(e.form,"batchProd",t)},expression:"form.batchProd"}},[a("el-radio",{attrs:{label:"是"}}),e._v(" "),a("el-radio",{attrs:{label:"否"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"2.合同要求试模次数"}},[a("span",[a("el-input",{staticStyle:{width:"100px"},attrs:{clearable:""},model:{value:e.form.testMouldNum,callback:function(t){e.$set(e.form,"testMouldNum",t)},expression:"form.testMouldNum"}}),e._v(" 次")],1)]),e._v(" "),a("el-form-item",{attrs:{label:"3.合同要求提供样件啤数"}},[a("span",{staticClass:"mr20"},[e._v("T1: "),a("el-input",{staticStyle:{width:"100px"},attrs:{clearable:""},model:{value:e.form.t1Shots,callback:function(t){e.$set(e.form,"t1Shots",t)},expression:"form.t1Shots"}}),e._v(" 啤shots")],1),e._v(" "),a("span",{staticClass:"mr20"},[e._v("T2: "),a("el-input",{staticStyle:{width:"100px"},attrs:{clearable:""},model:{value:e.form.t2Shots,callback:function(t){e.$set(e.form,"t2Shots",t)},expression:"form.t2Shots"}}),e._v(" 啤shots")],1),e._v(" "),a("span",{staticClass:"mr20"},[e._v("T3: "),a("el-input",{staticStyle:{width:"100px"},attrs:{clearable:""},model:{value:e.form.t3Shots,callback:function(t){e.$set(e.form,"t3Shots",t)},expression:"form.t3Shots"}}),e._v(" 啤shots")],1),e._v(" "),a("span",{staticClass:"mr20"},[e._v("T4: "),a("el-input",{staticStyle:{width:"100px"},attrs:{clearable:""},model:{value:e.form.t4Shots,callback:function(t){e.$set(e.form,"t4Shots",t)},expression:"form.t4Shots"}}),e._v(" 啤shots")],1)]),e._v(" "),a("el-form-item",{attrs:{label:"4.样件运输方式"}},[a("el-checkbox-group",{model:{value:e.form.samplesWay,callback:function(t){e.$set(e.form,"samplesWay",t)},expression:"form.samplesWay"}},[a("el-checkbox",{attrs:{label:"物流空运"}}),e._v(" "),a("el-checkbox",{attrs:{label:"物流陆运"}}),e._v(" "),a("el-checkbox",{attrs:{label:"快递"}}),e._v(" "),a("el-checkbox",{attrs:{label:"自送"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"5.模具运输方式"}},[a("el-checkbox-group",{model:{value:e.form.mouldWay,callback:function(t){e.$set(e.form,"mouldWay",t)},expression:"form.mouldWay"}},[a("el-checkbox",{attrs:{label:"空运"}}),e._v(" "),a("el-checkbox",{attrs:{label:"陆运"}}),e._v(" "),a("el-checkbox",{attrs:{label:"海运"}}),e._v(" "),a("el-checkbox",{attrs:{label:"铁路运输"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"6.模具是否空转"}},[a("el-radio-group",{model:{value:e.form.dryCycleOrNot,callback:function(t){e.$set(e.form,"dryCycleOrNot",t)},expression:"form.dryCycleOrNot"}},[a("el-radio",{attrs:{label:"是"}}),e._v(" "),a("el-radio",{attrs:{label:"否"}})],1),e._v(" "),a("span",{staticClass:"ml20 mr20"},[e._v("空转: "),a("el-input",{staticStyle:{width:"100px"},attrs:{clearable:""},model:{value:e.form.dryCycleCount,callback:function(t){e.$set(e.form,"dryCycleCount",t)},expression:"form.dryCycleCount"}}),e._v(" 次")],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"7.本项目是否配送注塑工具"}},[a("el-checkbox-group",{model:{value:e.form.deliveredOrNot,callback:function(t){e.$set(e.form,"deliveredOrNot",t)},expression:"form.deliveredOrNot"}},[a("el-checkbox",{attrs:{label:"夹具"}}),e._v(" "),a("el-checkbox",{attrs:{label:"检具"}}),e._v(" "),a("el-checkbox",{attrs:{label:"检测支架"}}),e._v(" "),a("el-checkbox",{attrs:{label:"机械抓手"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"8.模具转包"}},[a("el-radio-group",{model:{value:e.form.mouldSubcontract,callback:function(t){e.$set(e.form,"mouldSubcontract",t)},expression:"form.mouldSubcontract"}},[a("el-radio",{attrs:{label:"天津银宝"}}),e._v(" "),a("el-radio",{attrs:{label:"武汉银宝"}}),e._v(" "),a("el-radio",{attrs:{label:"广东银宝"}}),e._v(" "),a("el-radio",{attrs:{label:"惠州银宝"}})],1)],1)],1)],1),e._v(" "),a("p",{staticClass:"tc mt20"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveInfo}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.dialogTableVisible=!0}}},[e._v("选择并导出")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("取消")])],1),e._v(" "),a("el-dialog",{staticClass:"commonDialog",attrs:{title:"工程任务书导出",visible:e.dialogTableVisible,center:""},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-form",{attrs:{model:e.form2}},[a("el-form-item",{attrs:{label:"项目经理","label-width":"72px"}},[a("el-select",{attrs:{filterable:"",size:"mini",clearable:""},model:{value:e.form2.userName,callback:function(t){e.$set(e.form2,"userName",t)},expression:"form2.userName"}},e._l(e.manager,function(t){return a("el-option",{key:t.userId,attrs:{label:t.userName,value:t.userName}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-checkbox-group",{model:{value:e.form2.ids,callback:function(t){e.$set(e.form2,"ids",t)},expression:"form2.ids"}},e._l(e.tableData.map.items,function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.mouldNo))])}),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.export_excel}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("取 消")])],1)],1)],1)],1)},staticRenderFns:[]};var m=l("C7Lr")(c,u,!1,function(t){l("l4LG")},"data-v-052e89c0",null);e.default=m.exports},l4LG:function(t,e){}});