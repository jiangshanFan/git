webpackJsonp([39],{"1wvK":function(a,e){},VCpz:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("lC5x"),s=t.n(i),l=t("J0Oq"),n=t.n(l),o=t("glag"),c=t("c2Ch"),r={name:"projectInfoDetailEdit",created:function(){this.basicInfo=this.$store.getters.projectInfoDetailEdit,console.log(this.basicInfo),this.basicInfo.imgUrl&&(this.dialogImageUrlVisible=!0)},mounted:function(){console.log(this.$refs.projectInfoDetailEdit)},methods:{saveData:function(){var a,e=this;this.$refs.projectInfoDetailEdit.validate((a=n()(s.a.mark(function a(t){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!t){a.next=7;break}return a.next=3,Object(c._23)(e.basicInfo);case 3:1===a.sent.status&&(Object(o.Message)({showClose:!0,type:"success",message:"修改并保存信息成功！"}),e.$goto("/projectInfoDetail")),a.next=10;break;case 7:return e.$message({showClose:!0,type:"warning",message:"请填写完整信息,其中模具编号，项目名称，项目编号，合同编号是必填项！"}),console.log("error submit!!"),a.abrupt("return",!1);case 10:case"end":return a.stop()}},a,e)})),function(e){return a.apply(this,arguments)}))},handleSuccess:function(a,e){this.basicInfo.imgUrl=a.msg.url,this.dialogImageUrlVisible=!1},handleRemove:function(a,e){console.log(a,e)},handlePictureCardPreview:function(a){this.basicInfo.imgUrl=a.url,this.dialogVisible=!0}},data:function(){return{uploadData:{path:"itemAdd"},limit:1,dialogImageUrlVisible:!1,dialogVisible:!1,basicInfo:{},tipsStyle:"tooltip_#D9270A",rules:{mouldNo:[{required:!0,message:"模号不能为空",trigger:"change"}],projectNo:[{required:!0,message:"项目名称不能为空",trigger:"change"}],partName:[{required:!0,message:"制品名称不能为空",trigger:"change"}]}}}},u={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{attrs:{id:"projectInfoDetailEdit"}},[t("el-button",{staticClass:"el-button_plain_mini",attrs:{type:"primary",plain:""},on:{click:a.$goback}},[a._v("返回")]),a._v(" "),t("div",{attrs:{id:"allInfo"}},[t("h2",{staticClass:"tc fwb border_solid_bottom_c lh40"},[a._v("工程任务书详情编辑")]),a._v(" "),t("el-row",{attrs:{gutter:30}},[t("el-col",{attrs:{span:4}},[a.dialogImageUrlVisible?t("img",{staticClass:"mb20",attrs:{src:a.basicInfo.imgUrl,alt:"项目图"}}):a._e(),a._v(" "),t("el-upload",{attrs:{action:"/api/upload/uploadFile","list-type":"picture-card","on-preview":a.handlePictureCardPreview,"on-remove":a.handleRemove,"on-success":a.handleSuccess,"auto-upload":!0,limit:a.limit,data:a.uploadData}},[t("el-button",{attrs:{size:"small",type:"primary"}},[a._v("上传图片")])],1),a._v(" "),t("el-dialog",{attrs:{visible:a.dialogVisible},on:{"update:visible":function(e){a.dialogVisible=e}}},[t("img",{attrs:{width:"100%",src:a.basicInfo.imgUrl,alt:"图片"}})])],1),a._v(" "),t("el-col",{staticClass:"mb20",attrs:{span:20}},[t("el-form",{ref:"projectInfoDetailEdit",attrs:{model:a.basicInfo,rules:a.rules,"label-width":"132px","label-position":"right"}},[t("el-row",{staticClass:"spec",attrs:{gutter:10}},[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"模具编号：",prop:"mouldNo"}},[t("el-tooltip",{attrs:{content:"不可修改，如需修改，请联系销售重新提交合同评审表！",placement:"top",effect:"light","popper-class":a.tipsStyle}},[t("el-input",{staticStyle:{width:"100%"},attrs:{size:"mini",clearable:"",disabled:"",title:a.basicInfo.mouldNo},model:{value:a.basicInfo.mouldNo,callback:function(e){a.$set(a.basicInfo,"mouldNo",e)},expression:"basicInfo.mouldNo"}})],1)],1)],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"项目编号：",prop:"projectNo"}},[t("el-input",{staticStyle:{width:"100%"},attrs:{size:"mini",clearable:"",title:a.basicInfo.projectNo},model:{value:a.basicInfo.projectNo,callback:function(e){a.$set(a.basicInfo,"projectNo",e)},expression:"basicInfo.projectNo"}})],1)],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"制品名称：",prop:"partName"}},[t("el-input",{staticStyle:{width:"100%"},attrs:{size:"mini",clearable:"",title:a.basicInfo.partName},model:{value:a.basicInfo.partName,callback:function(e){a.$set(a.basicInfo,"partName",e)},expression:"basicInfo.partName"}})],1)],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"制品编号："}},[t("el-input",{staticStyle:{width:"100%"},attrs:{size:"mini",clearable:"",title:a.basicInfo.partNo},model:{value:a.basicInfo.partNo,callback:function(e){a.$set(a.basicInfo,"partNo",e)},expression:"basicInfo.partNo"}})],1)],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("制品尺寸：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.partSize},model:{value:a.basicInfo.partSize,callback:function(e){a.$set(a.basicInfo,"partSize",e)},expression:"basicInfo.partSize"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("客户模号：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.customerMouldCode},model:{value:a.basicInfo.customerMouldCode,callback:function(e){a.$set(a.basicInfo,"customerMouldCode",e)},expression:"basicInfo.customerMouldCode"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("客户的成型工厂：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.customerMoldingFactory},model:{value:a.basicInfo.customerMoldingFactory,callback:function(e){a.$set(a.basicInfo,"customerMoldingFactory",e)},expression:"basicInfo.customerMoldingFactory"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("客户是否开过模具：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.customerOpenOrNoMould},model:{value:a.basicInfo.customerOpenOrNoMould,callback:function(e){a.$set(a.basicInfo,"customerOpenOrNoMould",e)},expression:"basicInfo.customerOpenOrNoMould"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("制品材料：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.material},model:{value:a.basicInfo.material,callback:function(e){a.$set(a.basicInfo,"material",e)},expression:"basicInfo.material"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("制品颜色：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.productColour},model:{value:a.basicInfo.productColour,callback:function(e){a.$set(a.basicInfo,"productColour",e)},expression:"basicInfo.productColour"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("收缩率：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.shrinkageRate},model:{value:a.basicInfo.shrinkageRate,callback:function(e){a.$set(a.basicInfo,"shrinkageRate",e)},expression:"basicInfo.shrinkageRate"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("皮纹号：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.grainNo},model:{value:a.basicInfo.grainNo,callback:function(e){a.$set(a.basicInfo,"grainNo",e)},expression:"basicInfo.grainNo"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("模腔数量：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.cavityQty},model:{value:a.basicInfo.cavityQty,callback:function(e){a.$set(a.basicInfo,"cavityQty",e)},expression:"basicInfo.cavityQty"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("热流道：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.runner},model:{value:a.basicInfo.runner,callback:function(e){a.$set(a.basicInfo,"runner",e)},expression:"basicInfo.runner"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("浇口：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.gate},model:{value:a.basicInfo.gate,callback:function(e){a.$set(a.basicInfo,"gate",e)},expression:"basicInfo.gate"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("A板：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.aplate},model:{value:a.basicInfo.aplate,callback:function(e){a.$set(a.basicInfo,"aplate",e)},expression:"basicInfo.aplate"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("B板：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.bplate},model:{value:a.basicInfo.bplate,callback:function(e){a.$set(a.basicInfo,"bplate",e)},expression:"basicInfo.bplate"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("型腔：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.cavity},model:{value:a.basicInfo.cavity,callback:function(e){a.$set(a.basicInfo,"cavity",e)},expression:"basicInfo.cavity"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("型芯：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.core},model:{value:a.basicInfo.core,callback:function(e){a.$set(a.basicInfo,"core",e)},expression:"basicInfo.core"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("滑块：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.slider},model:{value:a.basicInfo.slider,callback:function(e){a.$set(a.basicInfo,"slider",e)},expression:"basicInfo.slider"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("启动日期：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.startMouldDate},model:{value:a.basicInfo.startMouldDate,callback:function(e){a.$set(a.basicInfo,"startMouldDate",e)},expression:"basicInfo.startMouldDate"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("T1时间：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.t1Date},model:{value:a.basicInfo.t1Date,callback:function(e){a.$set(a.basicInfo,"t1Date",e)},expression:"basicInfo.t1Date"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("送样时间：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.sampleDeliveryTime},model:{value:a.basicInfo.sampleDeliveryTime,callback:function(e){a.$set(a.basicInfo,"sampleDeliveryTime",e)},expression:"basicInfo.sampleDeliveryTime"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("制造工厂：")]),a._v(" "),t("el-select",{attrs:{filterable:"",size:"mini",title:a.basicInfo.manufacturingPlant},model:{value:a.basicInfo.manufacturingPlant,callback:function(e){a.$set(a.basicInfo,"manufacturingPlant",e)},expression:"basicInfo.manufacturingPlant "}},[t("el-option",{attrs:{label:"深圳一厂",value:"深圳一厂"}}),a._v(" "),t("el-option",{attrs:{label:"深圳二厂",value:"深圳二厂"}}),a._v(" "),t("el-option",{attrs:{label:"深圳五厂",value:"深圳五厂"}}),a._v(" "),t("el-option",{attrs:{label:"天津",value:"天津"}}),a._v(" "),t("el-option",{attrs:{label:"武汉",value:"武汉"}}),a._v(" "),t("el-option",{attrs:{label:"南通",value:"南通"}})],1)],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("设计外包：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.designOutsourcing},model:{value:a.basicInfo.designOutsourcing,callback:function(e){a.$set(a.basicInfo,"designOutsourcing",e)},expression:"basicInfo.designOutsourcing"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("制造外包：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.manufacturingOutsourcing},model:{value:a.basicInfo.manufacturingOutsourcing,callback:function(e){a.$set(a.basicInfo,"manufacturingOutsourcing",e)},expression:"basicInfo.manufacturingOutsourcing"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("制品3D数据图档名：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.productDataFileName},model:{value:a.basicInfo.productDataFileName,callback:function(e){a.$set(a.basicInfo,"productDataFileName",e)},expression:"basicInfo.productDataFileName"}})],1),a._v(" "),t("el-col",{attrs:{span:6}},[t("span",[a._v("标准件：")]),t("el-input",{attrs:{size:"mini",clearable:"",title:a.basicInfo.standardParts},model:{value:a.basicInfo.standardParts,callback:function(e){a.$set(a.basicInfo,"standardParts",e)},expression:"basicInfo.standardParts"}})],1)],1)],1)],1),a._v(" "),t("el-col",[t("span",[a._v("客户是否有参考模、经验总结或特别要求：")]),t("el-input",{staticClass:"mt20",attrs:{type:"textarea",resize:"none",rows:3},model:{value:a.basicInfo.customerAdditionalRequirements,callback:function(e){a.$set(a.basicInfo,"customerAdditionalRequirements",e)},expression:"basicInfo.customerAdditionalRequirements"}})],1)],1),a._v(" "),t("el-row",{staticClass:"tc mt20"},[t("el-button",{attrs:{type:"primary"},on:{click:a.saveData}},[a._v("保存")])],1)],1)],1)},staticRenderFns:[]};var b=t("C7Lr")(r,u,!1,function(a){t("1wvK")},"data-v-2e362a96",null);e.default=b.exports}});