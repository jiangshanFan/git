webpackJsonp([41],{"7kje":function(e,t){},K31e:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("lC5x"),a=r.n(s),o=r("3cXf"),n=r.n(o),i=r("J0Oq"),c=r.n(i),l=(r("glag"),r("c2Ch")),u={inject:["reload"],name:"login",created:function(){this.$store.dispatch("app_visible",!1)},methods:{checkLoginInfo:function(e){var t=this;return c()(a.a.mark(function r(){var s,o;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(""===e.username||""===e.pwd){r.next=7;break}return r.next=3,Object(l.Y)(e);case 3:1===(s=r.sent).status&&(localStorage.setItem("token",s.msg.authorization),localStorage.setItem("username",s.msg.userLoginVO.userName),localStorage.setItem("userLoginVO",n()(s.msg.userLoginVO)),localStorage.setItem("isLogin","true"),t.$store.dispatch("getNewToken",localStorage.getItem("token")),t.$store.dispatch("getNewUsername",localStorage.getItem("username")),t.$store.dispatch("userLoginVO",JSON.parse(localStorage.getItem("userLoginVO"))),t.$store.dispatch("getNewIsLogin",localStorage.getItem("isLogin")),t.$store.dispatch("app_visible",!0),"XIANGMUWENYUAN"===(o=JSON.parse(localStorage.getItem("userLoginVO")).role.roleCode)?t.$router.push("/projectInfo"):"WULIUADMIN"===o?t.$router.push("/sampleCountSingle"):"KEHU"===o?t.$router.push("/introduce"):t.$router.push("/projects"),t.reload()),r.next=8;break;case 7:e.username?t.$message({showClose:!0,type:"warning",message:"请输入用户名"}):t.$message({showClose:!0,type:"warning",message:"请输入密码"});case 8:case"end":return r.stop()}},r,t)}))()}},data:function(){return{user:{username:"",pwd:""}}}},p={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{position:"relative"},attrs:{id:"login"}},[r("div",{staticClass:"loginForm"},[r("el-row",{staticStyle:{"text-align":"center","font-size":"20px",color:"#000"}},[e._v("登录")]),e._v(" "),r("el-row",[e._v("账户"),r("el-input",{attrs:{placeholder:"请输入你的账户"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),e._v(" "),r("el-row",[e._v("密码"),r("el-input",{attrs:{placeholder:"请输入你的密码",type:"password"},model:{value:e.user.pwd,callback:function(t){e.$set(e.user,"pwd",t)},expression:"user.pwd"}})],1),e._v(" "),r("el-button",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(t){return e.checkLoginInfo(e.user)}}},[e._v("确认登录")])],1)])},staticRenderFns:[]};var g=r("C7Lr")(u,p,!1,function(e){r("7kje")},"data-v-232c9392",null);t.default=g.exports}});