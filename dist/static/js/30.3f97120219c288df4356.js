webpackJsonp([30],{"9PLK":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("lC5x"),r=a.n(l),s=a("J0Oq"),o=a.n(s),n=(a("glag"),a("c2Ch")),c={name:"itemCount",created:function(){var t=o()(r.a.mark(function t(){var e,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(n.I)();case 2:return e=t.sent,this.options.projectStage=this.$objToOthers(e.msg),t.next=6,Object(n.H)();case 6:a=t.sent,this.options.status=this.$objToOthers(a.msg),console.log(this.options),this.getListInfo();case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{getListInfo:function(t){var e=this;return o()(r.a.mark(function a(){var l,s;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(l={size:5}).page=t||1,e.value&&(l.projectName=e.value),e.value1&&(l.mouldNo=e.value1),e.value2&&(l.partName=e.value2),e.project.projectStage&&(l.projectStage=e.project.projectStage),e.project.status&&(l.status=e.project.status),a.next=9,Object(n.F)(l);case 9:1===(s=a.sent).status&&(e.tableData=s.msg);case 11:case"end":return a.stop()}},a,e)}))()},handleCurrentChange:function(t){this.getListInfo(t),this.currentPage=t,console.log("当前页: "+t)},handleClick:function(t){this.$store.dispatch("itemCheck_item",t),this.$router.push("/itemAdd")}},data:function(){return{options:{projectStage:[],status:[]},project:{},value:"",value1:"",value2:"",currentPage:1,tableData:{table:[]}}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"itemCount"}},[a("el-button",{staticClass:"mb20",attrs:{type:"primary",size:"mini"},on:{click:t.$goback}},[t._v("返回")]),t._v(" "),a("div",{staticClass:"section-search mb20 mt20"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"fl mr20 mb20"},[a("span",[t._v("项目阶段：")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:t.project.projectStage,callback:function(e){t.$set(t.project,"projectStage",e)},expression:"project.projectStage"}},t._l(t.options.projectStage,function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})}),1)],1),t._v(" "),a("div",{staticClass:"fl mr20 mb20"},[a("span",[t._v("项目状态：")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:t.project.status,callback:function(e){t.$set(t.project,"status",e)},expression:"project.status"}},t._l(t.options.status,function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})}),1)],1),t._v(" "),a("div",{staticClass:"fl mr20 mb20"},[a("span",[t._v("项目名称：")]),t._v(" "),a("el-input",{staticStyle:{width:"calc(100% - 100px)"},attrs:{clearable:""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),a("div",{staticClass:"fl mr20 mb20"},[a("span",[t._v("模具编号：")]),t._v(" "),a("el-input",{staticStyle:{width:"calc(100% - 100px)"},attrs:{clearable:""},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1),t._v(" "),a("div",{staticClass:"fl mr20 mb20"},[a("span",[t._v("制品名称：")]),t._v(" "),a("el-input",{staticStyle:{width:"calc(100% - 100px)"},attrs:{clearable:""},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}})],1),t._v(" "),a("el-button",{staticClass:"fl",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.getListInfo()}}})],1)],1)],1),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"table"},[a("div",{staticClass:"buttons"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$goto("/itemAdd")}}},[t._v("添加新项目")]),t._v(" "),a("el-button",{attrs:{type:"plain",size:"small"}},[t._v("报表导出")]),t._v(" "),a("el-button",{attrs:{type:"plain",size:"small"},on:{click:function(e){return t.$goto("/itemCheck")}}},[t._v("项目查看")])],1),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:t.tableData.content,border:""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mouldNo",label:"模具编号",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"projectName",label:"项目名称",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"partName",label:"制品名称",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"客户名称",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"img",label:"图片",width:"250"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.imgUrl,alt:"图片"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"partNo",label:"制品尺寸",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"moldingMachineTonnage",label:"成型机吨位(T)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"material",label:"制品材料",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"runner",label:"热流道",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cavityQty",label:"模腔数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"projectNode",label:"当前节点"}}),t._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"最新试模时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"projectStage",label:"项目阶段"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s("DESIGN"===e.row.projectStage?"设计":"SHIPMENTMOULD"===e.row.projectStage?"走模":"PAYOFF"===e.row.projectStage?"客户已付完款":"PROCESS"===e.row.projectStage?"加工":"精修"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"项目状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s("URGENT"===e.row.status?"紧急":"DELAY"===e.row.status?"延期":"NORMAL"===e.row.status?"正常":"完结"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"projectDescribe",label:"当前项目描述"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dept",label:"制模部门"}}),t._v(" "),a("el-table-column",{attrs:{prop:"proGroupLeader",label:"制模组长"}}),t._v(" "),a("el-table-column",{attrs:{prop:"designGroupLeader",label:"设计组长"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(a){return t.handleClick(e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination fr ovw-h mt20"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":5,layout:"total, prev, pager, next",total:t.tableData.totalCount},on:{"current-change":t.handleCurrentChange}})],1)],1)])],1)},staticRenderFns:[]};var u=a("C7Lr")(c,i,!1,function(t){a("kzKY")},"data-v-55d32778",null);e.default=u.exports},kzKY:function(t,e){}});