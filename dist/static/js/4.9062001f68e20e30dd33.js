webpackJsonp([4],{"+bor":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("lC5x"),n=a.n(l),r=a("J0Oq"),i=a.n(r),o=(a("glag"),a("c2Ch")),s={name:"contract",created:function(){var t=i()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.getInfo();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{upload_progress:function(){},upload_status:function(t,e,a){1===t.status?(this.$alert("<p>导入成功</p>","",{dangerouslyUseHTMLString:!0}),this.getInfo()):this.$alert("<p>"+t.msg+"</p>","",{dangerouslyUseHTMLString:!0})},getInfo:function(){var t=this;return i()(n.a.mark(function e(){var a,l;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={page:t.currentPage,size:t.size},t.value&&(a.projectName=t.value),t.value1&&(a.contractNo=t.value1),t.value2&&(a.createTime1=t.value2[0],a.createTime2=t.value2[1]),e.next=6,Object(o._5)(a);case 6:1===(l=e.sent).status&&(t.tableData=l.msg);case 8:case"end":return e.stop()}},e,t)}))()},searchCheck:function(){this.getInfo()},handleCurrentChange:function(t){this.currentPage=t,this.getInfo()}},data:function(){return{loading:"",currentPage:1,size:10,value:"",value1:"",value2:[],pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},tableData:{content:[{}],totalCount:22},importHeaders:{Authorization:localStorage.getItem("token")},tooltip:!0}}},c={render:function(){var t=this,e=this,a=e.$createElement,l=e._self._c||a;return l("div",{attrs:{id:"contract"}},[l("div",{staticClass:"section-search mb20 mt20"},[l("el-row",[l("div",{staticClass:"fl mr20 mb20"},[l("span",{staticClass:"c6"},[e._v("项目名称：")]),e._v(" "),l("el-input",{staticStyle:{width:"calc(100% - 100px)"},attrs:{size:"mini",clearable:""},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),e._v(" "),l("div",{staticClass:"fl mr20 mb20"},[l("span",{staticClass:"c6"},[e._v("合同编号：")]),e._v(" "),l("el-input",{staticStyle:{width:"calc(100% - 100px)"},attrs:{size:"mini",clearable:""},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1),e._v(" "),l("div",{staticClass:"fl mr20 mb20"},[l("span",{staticClass:"c6"},[e._v("导入日期：")]),e._v(" "),l("el-date-picker",{staticStyle:{width:"calc(100% - 100px)"},attrs:{clearable:"",type:"datetimerange",align:"right",format:"yyyy-MM-dd","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"],size:"mini"},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1),e._v(" "),l("el-button",{staticClass:"fl",attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.searchCheck}})],1),e._v(" "),l("hr")],1),e._v(" "),l("div",{staticClass:"contract_table"},[l("div",{staticClass:"flex_row_container_left"},[l("el-upload",{ref:"upload",attrs:{accept:".xlsx",action:"/api/project/import/contractReviewImport",headers:e.importHeaders,"show-file-list":!1,"on-progress":e.upload_progress,"on-success":e.upload_status}},[l("el-button",{staticClass:"el-button_plain_mini",attrs:{type:"primary"}},[e._v("导入合同评审表")])],1),e._v(" "),l("a",{attrs:{href:"/pic/temp/Mold Contract Review Form.xlsx"}},[l("el-button",{staticClass:"el-button_plain_mini item-a ml20",attrs:{type:"primary"}},[e._v("合同评审表下载")])],1)],1),e._v(" "),l("el-table",{staticClass:"mt20 mb20",staticStyle:{width:"100%","font-size":"12px"},attrs:{data:e.tableData.content,border:"","tooltip-effect":"light","header-cell-class-name":"header_cell table_header_shadow"}},[l("el-table-column",{attrs:{fixed:"left",type:"index",label:"序号",width:"60",align:"center",index:function(a){return t.$indexS(a,e.currentPage,e.size)}}}),e._v(" "),l("el-table-column",{attrs:{prop:"projectName",label:"项目名称",width:"120",align:"center","show-overflow-tooltip":e.tooltip}}),e._v(" "),l("el-table-column",{attrs:{prop:"mouldNumber",label:"模具数量",width:"100",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"createTime",label:"导入时间",width:"160",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"customerName",label:"客户公司名称",width:"120",align:"center","show-overflow-tooltip":e.tooltip}}),e._v(" "),l("el-table-column",{attrs:{prop:"contractNo",label:"合同编号",width:"120",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"projectType",label:"项目类型",width:"100",align:"center","show-overflow-tooltip":e.tooltip}}),e._v(" "),l("el-table-column",{attrs:{prop:"t1Date",label:"T1时间",width:"100",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"customerTelephone",label:"客户电话",width:"120",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"customerEmail",label:"客户邮箱",align:"center","show-overflow-tooltip":""}})],1),e._v(" "),e.tableData.totalCount?l("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.size,layout:"total, prev, pager, next",total:e.tableData.totalCount},on:{"current-change":e.handleCurrentChange}}):e._e()],1)])},staticRenderFns:[]};var u=a("C7Lr")(s,c,!1,function(t){a("wiPE"),a("gi53")},"data-v-09302828",null);e.default=u.exports},gi53:function(t,e){},wiPE:function(t,e){}});