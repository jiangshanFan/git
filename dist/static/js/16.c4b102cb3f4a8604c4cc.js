webpackJsonp([16],{kFeI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),l=a.n(r),s=a("HzJ8"),n=a.n(s),i=a("J0Oq"),o=a.n(i),c=(a("glag"),a("c2Ch")),p={name:"itemProgressDetail",created:function(){var e=o()(l.a.mark(function e(){var t,a,r,s,i,o,p,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.detailType=this.$store.getters.customItems_detailType.type,this.detail=this.$store.getters.customItems_detailType.detail,t=this.detail.mouldNo,a=void 0,e.t0=this.detailType,e.next=1===e.t0?7:2===e.t0?12:3===e.t0?64:4===e.t0?69:5===e.t0?74:80;break;case 7:return e.next=9,Object(c.u)({page:1,size:10,mouldNo:t});case 9:return a=e.sent,this.table=a.msg,e.abrupt("break",80);case 12:return e.next=14,Object(c._10)({page:1,size:10,mouldCode:t});case 14:if(!(a=e.sent).msg){e.next=62;break}this.table2=a.msg,r=!0,s=!1,i=void 0,e.prev=20,o=n()(this.table2.content);case 22:if(r=(p=o.next()).done){e.next=46;break}u=p.value,e.t1=u.partStatus,e.next="0"===e.t1?27:"1"===e.t1?29:"2"===e.t1?31:33;break;case 27:return u.partStatus="未开始",e.abrupt("break",33);case 29:return u.partStatus="加工中",e.abrupt("break",33);case 31:return u.partStatus="已完工",e.abrupt("break",33);case 33:e.t2=u.materialCategory,e.next="0"===e.t2?36:"1"===e.t2?38:"2"===e.t2?40:42;break;case 36:return u.materialCategory="模胚",e.abrupt("break",43);case 38:return u.materialCategory="前(上)模",e.abrupt("break",43);case 40:return u.materialCategory="后(下)模",e.abrupt("break",43);case 42:u.materialCategory="标准件";case 43:r=!0,e.next=22;break;case 46:e.next=52;break;case 48:e.prev=48,e.t3=e.catch(20),s=!0,i=e.t3;case 52:e.prev=52,e.prev=53,!r&&o.return&&o.return();case 55:if(e.prev=55,!s){e.next=58;break}throw i;case 58:return e.finish(55);case 59:return e.finish(52);case 60:e.next=63;break;case 62:this.table2={content:[]};case 63:return e.abrupt("break",80);case 64:return e.next=66,Object(c.O)({mouldNo:t});case 66:return a=e.sent,this.table3=a.msg,e.abrupt("break",80);case 69:return e.next=71,Object(c.N)({mouldNo:t,type:1});case 71:return a=e.sent,this.items=a.msg,e.abrupt("break",80);case 74:return e.next=76,Object(c.N)({mouldNo:t,type:2});case 76:return a=e.sent,this.table5=a.msg,this.table5[0]={},e.abrupt("break",80);case 80:case"end":return e.stop()}},e,this,[[20,48,52,60],[53,,55,59]])}));return function(){return e.apply(this,arguments)}}(),methods:{lookDetail:function(e){var t=this;return o()(l.a.mark(function a(){var r;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.dialog_partCount=!0,a.next=3,Object(c._7)({id:e.id});case 3:1===(r=a.sent).status&&(t.dialog_partCount_items=r.msg),t.dialog_partCount_items||(t.dialog_partCount_items=[]);case 6:case"end":return a.stop()}},a,t)}))()},handleCurrentChange:function(e){var t=this;return o()(l.a.mark(function a(){var r,s,i,o,p,u,b,d;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:r=t.detail.mouldNo,s=void 0,a.t0=t.detailType,a.next=1===a.t0?5:2===a.t0?11:3===a.t0?64:4===a.t0?69:5===a.t0?74:79;break;case 5:return a.next=7,Object(c.u)({page:e,size:10,mouldNo:r});case 7:return s=a.sent,t.table=s.msg,t.currentPage=e,a.abrupt("break",79);case 11:return a.next=13,Object(c._10)({page:e,size:10,mouldCode:r});case 13:if(!(s=a.sent).msg){a.next=61;break}t.table2=s.msg,i=!0,o=!1,p=void 0,a.prev=19,u=n()(t.table2.content);case 21:if(i=(b=u.next()).done){a.next=45;break}d=b.value,a.t1=d.partStatus,a.next="0"===a.t1?26:"1"===a.t1?28:"2"===a.t1?30:32;break;case 26:return d.partStatus="未开始",a.abrupt("break",32);case 28:return d.partStatus="加工中",a.abrupt("break",32);case 30:return d.partStatus="已完工",a.abrupt("break",32);case 32:a.t2=d.materialCategory,a.next="0"===a.t2?35:"1"===a.t2?37:"2"===a.t2?39:41;break;case 35:return d.materialCategory="模胚",a.abrupt("break",42);case 37:return d.materialCategory="前(上)模",a.abrupt("break",42);case 39:return d.materialCategory="后(下)模",a.abrupt("break",42);case 41:d.materialCategory="标准件";case 42:i=!0,a.next=21;break;case 45:a.next=51;break;case 47:a.prev=47,a.t3=a.catch(19),o=!0,p=a.t3;case 51:a.prev=51,a.prev=52,!i&&u.return&&u.return();case 54:if(a.prev=54,!o){a.next=57;break}throw p;case 57:return a.finish(54);case 58:return a.finish(51);case 59:a.next=62;break;case 61:t.table2={content:[]};case 62:return t.currentPage1=e,a.abrupt("break",79);case 64:return a.next=66,Object(c.O)({mouldNo:r});case 66:return s=a.sent,t.table.content=s.msg,a.abrupt("break",79);case 69:return a.next=71,Object(c.N)({mouldNo:r,type:1});case 71:return s=a.sent,t.items=s.msg,a.abrupt("break",79);case 74:return a.next=76,Object(c.N)({mouldNo:r,type:2});case 76:return s=a.sent,t.table5=s.msg,a.abrupt("break",79);case 79:console.log("当前页: "+e);case 80:case"end":return a.stop()}},a,t,[[19,47,51,59],[52,,54,58]])}))()},handleSelectionChange:function(e){this.multipleSelection=e}},watch:{$route:function(e,t){this.detailType=this.$store.getters.customItems_detailType.type}},data:function(){return{detailType:"",detail:{},table:{},table2:[],table3:[],table5:[{position:[]}],items:[],currentPage:1,size:10,currentPage1:1,multipleSelection:[],dialog_partCount:!1,dialog_partCount_items:[]}}},u={render:function(){var e=this,t=this,a=t.$createElement,r=t._self._c||a;return r("div",{attrs:{id:"itemProgressDetail"}},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.$goback}},[t._v("返回")]),t._v(" "),r("el-row",{staticClass:"mt20",attrs:{type:"flex",justify:"space-around"}},[r("el-col",{staticClass:"ovw-h"},[r("p",{staticClass:"fl"},[t._v("制品图例：")]),t._v(" "),r("p",{staticClass:"fl",staticStyle:{width:"calc(100% - 100px)"}},[r("img",{staticStyle:{height:"77px",width:"auto !important"},attrs:{src:t.detail.imgUrl,alt:"图例"}})])]),t._v(" "),r("el-col",[r("p",[t._v("模号："+t._s(t.detail.mouldNo))]),t._v(" "),r("p",[t._v("制品名称："+t._s(t.detail.partName))]),t._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:1===t.detailType,expression:"detailType === 1"}]},[t._v("已发布图纸数量："+t._s(t.detail.issueDrawingCount)+" 张")]),t._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:2===t.detailType,expression:"detailType === 2"}]},[t._v("已加工零件数量："+t._s(t.detail.machiningPartCount)+" 个")])]),t._v(" "),r("el-col",[r("p",[t._v("项目名称："+t._s(t.detail.projectName))]),t._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:2===t.detailType,expression:"detailType === 2"}]},[t._v("待加工零件数量："+t._s(t.detail.waitingMachiningPartCount)+" 个")])]),t._v(" "),r("el-col",[r("p",[t._v("制品尺寸："+t._s(t.detail.partNo))]),t._v(" "),r("p",[t._v("预计T1时间："+t._s(t.detail.expectT1Time))])])],1),t._v(" "),r("div",{staticStyle:{color:"#999"}},[r("p",{directives:[{name:"show",rawName:"v-show",value:3===t.detailType,expression:"detailType === 3"}],staticClass:"mt20"},[t._v("备注：现阶段由于公司试模资料统计不完全，所以无法显示所有试模时间，如有给您带来不便之处请你谅解！")]),t._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:4===t.detailType||5===t.detailType,expression:"detailType === 4 || detailType ===5"}],staticClass:"mt20"},[t._v("备注：现阶段由于部分合作物流公司无法提供货物位置信息，所以可能存在部分物流信息缺失，如有给您带来不便之处请你谅解！")])]),t._v(" "),r("hr"),t._v(" "),r("div",{staticStyle:{display:"flex","justify-content":"center","padding-top":"60px"}},[r("el-row",{staticStyle:{width:"70%"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:1===t.detailType,expression:"detailType === 1"}],staticClass:"ovw-h"},[r("el-table",{ref:"multipleTable",attrs:{data:t.table.content,"tooltip-effect":"dark",border:"",size:"small"},on:{"selection-change":t.handleSelectionChange}},[r("el-table-column",{attrs:{label:"序号",width:"50",type:"index",index:function(a){return e.$indexS(a,t.currentPage,t.size)}}}),t._v(" "),r("el-table-column",{attrs:{prop:"type",label:"类型",width:"100"}}),t._v(" "),r("el-table-column",{attrs:{prop:"drawingName",label:"图纸名称","show-overflow-tooltip":""}}),t._v(" "),r("el-table-column",{attrs:{prop:"createTime",label:"发布时间",width:"160"}})],1),t._v(" "),r("div",{staticClass:"pagination fr ovw-h mt20"},[t.table.totalCount?r("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.size,layout:"total, prev, pager, next",total:t.table.totalCount},on:{"current-change":t.handleCurrentChange}}):t._e()],1)],1),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:2===t.detailType,expression:"detailType === 2"}],staticClass:"ovw-h"},[r("el-table",{ref:"multipleTable",attrs:{data:t.table2.content,"tooltip-effect":"dark",border:"",size:"small"}},[r("el-table-column",{attrs:{label:"序号",width:"60",type:"index",index:function(a){return e.$indexS(a,t.currentPage,t.size)}}}),t._v(" "),r("el-table-column",{attrs:{prop:"partName",label:"零件名称",width:"150"}}),t._v(" "),r("el-table-column",{attrs:{prop:"materialCategory",label:"类型",width:"150"}}),t._v(" "),r("el-table-column",{attrs:{prop:"partStatus",label:"加工状态",width:"100"}}),t._v(" "),r("el-table-column",{attrs:{prop:"calculateActualStartDate",label:"开始时间",width:"140"}}),t._v(" "),r("el-table-column",{attrs:{prop:"calculateActualEndDate",label:"完成时间",width:"140"}}),t._v(" "),r("el-table-column",{attrs:{prop:"remark",label:"备注","show-overflow-tooltip":""}}),t._v(" "),r("el-table-column",{attrs:{label:"操作",width:"120",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.lookDetail(e.row)}}},[t._v("详情")])]}}])})],1),t._v(" "),r("div",{staticClass:"pagination fr ovw-h mt20"},[t.table2.totalCount?r("el-pagination",{attrs:{"current-page":t.currentPage1,"page-size":t.size,layout:"total, prev, pager, next",total:t.table2.totalCount},on:{"current-change":t.handleCurrentChange}}):t._e()],1)],1),t._v(" "),r("el-dialog",{attrs:{title:"加工零件详情",visible:t.dialog_partCount},on:{"update:visible":function(e){t.dialog_partCount=e}}},[r("el-table",{attrs:{border:"",data:t.dialog_partCount_items}},[r("el-table-column",{attrs:{label:"序号",width:"60",type:"index"}}),t._v(" "),r("el-table-column",{attrs:{property:"processNo",label:"工艺编码",width:"150"}}),t._v(" "),r("el-table-column",{attrs:{property:"processName",label:"工艺名称",width:"200"}}),t._v(" "),r("el-table-column",{attrs:{property:"actualStartDate",label:"加工开始时间"}}),t._v(" "),r("el-table-column",{attrs:{property:"actualEndDate",label:"加工结束时间"}}),t._v(" "),r("el-table-column",{attrs:{property:"address",label:"工艺说明"}})],1)],1),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:3===t.detailType,expression:"detailType === 3"}],staticClass:"ovw-h"},[r("el-table",{ref:"multipleTable",attrs:{data:t.table3,"tooltip-effect":"dark",border:"",size:"small"}},[r("el-table-column",{attrs:{label:"序号",width:"60",type:"index"}}),t._v(" "),r("el-table-column",{attrs:{prop:"date",label:"日期",width:"100"}}),t._v(" "),r("el-table-column",{attrs:{prop:"board",label:"机台",width:"100"}}),t._v(" "),r("el-table-column",{attrs:{prop:"material",label:"材料",width:"140"}}),t._v(" "),r("el-table-column",{attrs:{prop:"debugTime",label:"调试时间",width:"140"}}),t._v(" "),r("el-table-column",{attrs:{prop:"testModeCause",label:"试模原因",width:"100"}}),t._v(" "),r("el-table-column",{attrs:{prop:"taskRemark",label:"备注"}})],1)],1),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:4===t.detailType,expression:"detailType === 4"}],staticClass:"delivery"},[t._l(t.items,function(e,a){return r("div",{key:a},[r("el-row",{staticClass:"mb20",attrs:{gutter:40}},[r("el-col",{style:{fontSize:"16px"},attrs:{span:6}},[t._v("第"+t._s(a+1)+"次送样：")]),t._v(" "),r("el-col",{attrs:{span:6}},[t._v("运输公司："+t._s(e.transportCompany))]),t._v(" "),r("el-col",{attrs:{span:6}},[t._v("运输单号："+t._s(e.transportNo))])],1),t._v(" "),r("el-table",{ref:"multipleTable",refInFor:!0,attrs:{data:e.positionInfo,"tooltip-effect":"dark",border:"",size:"small"}},[r("el-table-column",{attrs:{label:"序号",width:"50",type:"index"}}),t._v(" "),r("el-table-column",{attrs:{prop:"time",label:"时间",width:"150"}}),t._v(" "),r("el-table-column",{attrs:{prop:"position",label:"位置及相关信息","show-overflow-tooltip":""}})],1),t._v(" "),r("hr",{staticClass:"mt20 mb20"})],1)}),t._v(" "),t.items.length?t._e():r("p",{staticStyle:{"text-align":"center"}},[t._v("暂无数据！")])],2),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:5===t.detailType,expression:"detailType === 5"}],staticClass:"ovw-h"},[r("el-row",{staticClass:"mb20",attrs:{gutter:40}},[r("el-col",{attrs:{span:6}},[t._v("运输公司："+t._s(t.table5[0].transportCompany))]),t._v(" "),r("el-col",{attrs:{span:6}},[t._v("运输单号："+t._s(t.table5[0].transportNo))])],1),t._v(" "),r("el-table",{ref:"multipleTable",attrs:{data:t.table5[0].positionInfo,"tooltip-effect":"dark",border:"",size:"small"}},[r("el-table-column",{attrs:{label:"序号",width:"50",type:"index"}}),t._v(" "),r("el-table-column",{attrs:{prop:"time",label:"时间",width:"150"}}),t._v(" "),r("el-table-column",{attrs:{prop:"position",label:"位置及相关信息","show-overflow-tooltip":""}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var b=a("C7Lr")(p,u,!1,function(e){a("mjDf")},"data-v-7e33de14",null);t.default=b.exports},mjDf:function(e,t){}});